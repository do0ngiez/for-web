 <!-- Username Tab -->
    <div
      class="tab-pane fade p-4"
      id="username"
      role="tabpanel"
      aria-labelledby="username-tab"
    >
      <div id="usernameAlert" class="alert alert-danger d-none" role="alert">
        This is a danger alertâ€”check it out!
      </div>

      <form id="usernameForm" action="/updateAdminUsername" method="POST">
        <input type="text" hidden name="id" value="<%= selectedAdmin.id %>" />

        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label for="oldUsername"> Old Username </label>
              <input
                type="text"
                class="form-control"
                id="oldUsername"
                name="oldUsername"
                value="<%= selectedAdmin.username %>"
                disabled
              />
            </div>
          </div>
          <div class="col-md-6"></div>
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label for="newUsername"> New Username </label>
              <input
                type="text"
                class="form-control"
                id="newUsername"
                name="newUsername"
              />
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for="confirmUsername"> Confirm Username </label>
              <input
                type="text"
                class="form-control"
                id="confirmUsername"
                name="confirmUsername"
              />
            </div>
          </div>
        </div>

        <input type="submit" class="btn bg-adduOrange" value="   Save   " />
      </form>
    </div>


    <% } %>
  </div>
</div>

<script>
    window.addEventListener("DOMContentLoaded", function () {
      (function ($) {
  
        $("#usernameForm").on("submit", async function (event) {
          event.preventDefault();
  
          const newUsername = $("#newUsername").val();
          const confirmUserName = $("#confirmUsername").val();
  
          if (!newUsername) {
            $("#usernameAlert")
              .removeClass("d-none")
              .text("Username cannot be empty.");
          } else if (newUsername !== confirmUserName) {
            $("#usernameAlert")
              .removeClass("d-none")
              .text("Usernames did not match.");
          } else {
            $(this).unbind();
            $(this).submit();
          }
        });
  
        $("#passwordForm").on("submit", async function (event) {
          event.preventDefault();
  
          const newPassword = $("#newPassword").val();
          const confirmPassword = $("#confirmPassword").val();
  
          if (!newPassword) {
            $("#passwordAlert")
              .removeClass("d-none")
              .text("Password cannot be empty.");
          } else if (newPassword !== confirmPassword) {
            $("#passwordAlert")
              .removeClass("d-none")
              .text("Passwords did not match.");
          } else {
            $(this).unbind();
            $(this).submit();
          }
  
          $("#newPassword").val("");
          $("#confirmPassword").val("");
        });
      })(jQuery);
    });
  </script>